# Week6 指针（三）

## 指针做函数参数

- 指针传递多维数组

```c++
int maxvalue(int (*p)[4])
{
  	...
}

int mian()
{
	int a[3][4] = {...};
  	cout << "THe Max value is " << maxvalue(a) << endl;
  	return 0;
}
```

把`a[3][4]`理解成 `(a[3])[4]` 是一个包含三个元素的一维数组 `x = a[3]` ，其中每个元素是一个包含四个元素的一维数组 `x[4]`。而 `a` 则是指向 `x` 数组第一个元素的指针。`a` 的基类型是数组！

- 数组名作形参，此时数组名做指针变量处理，可以进行`++` `--`运算

## 限制指针实参的功能

- 指向符号常量的指针：`const int *p`
  - 不能改变指针指向的变量的值，但可以改变指针本身的值。

## 指针做函数返回值

`int *function(int x, int y)`

## 静态局部变量

函数中的局部变量的值在函数调用结束后不消失而保留原值，即其占用的存储单元不释放，在下一次函数调用时，仍可以继续使用该变量。

`static int value = 20;`

动态与静态的本质区别是变量的有效范围不同。

## 小结

- 指针用作函数参数
  - 函数拿到地址可对其所指内容进行修改
  - 可以用`const` 来限制指针的功能
- 指针用作函数返回值
  - 必须确保函数返回的地址是有意义的
  - 返回全局变量或静态局部变量

